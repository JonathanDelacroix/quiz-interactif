"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.GoogleTTS = void 0;
var _buffers = require("../../utils/buffers");
var _basicFetcher = require("../../utils/Fetcher/basicFetcher");
var GoogleTTS = exports.GoogleTTS = /** @class */function () {
  function GoogleTTS(_a) {
    var _b = _a === void 0 ? {} : _a,
      _c = _b.fetcher,
      fetcher = _c === void 0 ? _basicFetcher.basicFetcher : _c;
    this.fetcher = fetcher;
  }
  GoogleTTS.prototype.getAudioBuffer = function (text, language) {
    var url = "https://translate.google.com/translate_tts?ie=UTF-8&tl=".concat(language, "&client=dict-chrome-ex&ttsspeed=0.5&q=") + encodeURIComponent(text);
    return this.fetcher(url, {
      responseType: 'arrayBuffer',
      method: 'GET'
    }).then(function (_a) {
      var data = _a.data;
      var buffer;
      if (typeof Buffer !== 'undefined' && data instanceof Buffer) {
        buffer = (0, _buffers.bufferToArrayBuffer)(data);
      } else if (data instanceof ArrayBuffer) {
        buffer = data;
      } else {
        throw new TypeError('Unexpected response');
      }
      return {
        type: 'audio/mpeg',
        buffer: buffer
      };
    });
  };
  GoogleTTS.getSupportedLanguages = function () {
    // prettier-ignore
    return ["af", "sq", "am", "ar", "hy", "as", "ay", "az", "bm", "eu", "be", "bn", "bho", "bs", "bg", "ca", "ceb", "ny", "zh", "zh_HANT", "co", "hr", "cs", "da", "dv", "doi", "nl", "en", "eo", "et", "ee", "tl", "fi", "fr", "fy", "gl", "ka", "de", "el", "gn", "gu", "ht", "ha", "haw", "iw", "hi", "hmn", "hu", "is", "ig", "ilo", "id", "ga", "it", "ja", "jw", "kn", "kk", "km", "rw", "gom", "ko", "kri", "ku", "ckb", "ky", "lo", "la", "lv", "ln", "lt", "lg", "lb", "mk", "mai", "mg", "ms", "ml", "mt", "mi", "mr", "mni-Mtei", "lus", "mn", "my", "ne", "no", "or", "om", "ps", "fa", "pl", "pt", "pa", "qu", "ro", "ru", "sm", "sa", "gd", "nso", "sr", "st", "sn", "sd", "si", "sk", "sl", "so", "es", "su", "sw", "sv", "tg", "ta", "tt", "te", "th", "ti", "ts", "tr", "tk", "ak", "uk", "ur", "ug", "uz", "vi", "cy", "xh", "yi", "yo", "zu"];
  };
  return GoogleTTS;
}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHRzL0dvb2dsZVRUUy9pbmRleC5qcyIsIm5hbWVzIjpbIl9idWZmZXJzIiwicmVxdWlyZSIsIl9iYXNpY0ZldGNoZXIiLCJHb29nbGVUVFMiLCJleHBvcnRzIiwiX2EiLCJfYiIsIl9jIiwiZmV0Y2hlciIsImJhc2ljRmV0Y2hlciIsInByb3RvdHlwZSIsImdldEF1ZGlvQnVmZmVyIiwidGV4dCIsImxhbmd1YWdlIiwidXJsIiwiY29uY2F0IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwicmVzcG9uc2VUeXBlIiwibWV0aG9kIiwidGhlbiIsImRhdGEiLCJidWZmZXIiLCJCdWZmZXIiLCJidWZmZXJUb0FycmF5QnVmZmVyIiwiQXJyYXlCdWZmZXIiLCJUeXBlRXJyb3IiLCJ0eXBlIiwiZ2V0U3VwcG9ydGVkTGFuZ3VhZ2VzIl0sInNvdXJjZXMiOlsidHRzL0dvb2dsZVRUUy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBidWZmZXJUb0FycmF5QnVmZmVyIH0gZnJvbSAnLi4vLi4vdXRpbHMvYnVmZmVycyc7XG5pbXBvcnQgeyBUVFNBdWRpb0J1ZmZlciwgVFRTUHJvdmlkZXJQcm9wcyB9IGZyb20gJy4uJztcbmltcG9ydCB7IGJhc2ljRmV0Y2hlciB9IGZyb20gJy4uLy4uL3V0aWxzL0ZldGNoZXIvYmFzaWNGZXRjaGVyJztcbmltcG9ydCB7IEZldGNoZXIgfSBmcm9tICcuLi8uLi91dGlscy9GZXRjaGVyJztcblxuZXhwb3J0IGNsYXNzIEdvb2dsZVRUUyBpbXBsZW1lbnRzIFRUU1Byb3ZpZGVyUHJvcHMge1xuXHRwcml2YXRlIHJlYWRvbmx5IGZldGNoZXI7XG5cdGNvbnN0cnVjdG9yKHsgZmV0Y2hlciA9IGJhc2ljRmV0Y2hlciB9OiB7IGZldGNoZXI/OiBGZXRjaGVyIH0gPSB7fSkge1xuXHRcdHRoaXMuZmV0Y2hlciA9IGZldGNoZXI7XG5cdH1cblxuXHRwdWJsaWMgZ2V0QXVkaW9CdWZmZXIodGV4dDogc3RyaW5nLCBsYW5ndWFnZTogc3RyaW5nKTogUHJvbWlzZTxUVFNBdWRpb0J1ZmZlcj4ge1xuXHRcdGNvbnN0IHVybCA9XG5cdFx0XHRgaHR0cHM6Ly90cmFuc2xhdGUuZ29vZ2xlLmNvbS90cmFuc2xhdGVfdHRzP2llPVVURi04JnRsPSR7bGFuZ3VhZ2V9JmNsaWVudD1kaWN0LWNocm9tZS1leCZ0dHNzcGVlZD0wLjUmcT1gICtcblx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCh0ZXh0KTtcblxuXHRcdHJldHVybiB0aGlzLmZldGNoZXIodXJsLCB7IHJlc3BvbnNlVHlwZTogJ2FycmF5QnVmZmVyJywgbWV0aG9kOiAnR0VUJyB9KS50aGVuKFxuXHRcdFx0KHsgZGF0YSB9KSA9PiB7XG5cdFx0XHRcdGxldCBidWZmZXI6IEFycmF5QnVmZmVyO1xuXHRcdFx0XHRpZiAodHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgZGF0YSBpbnN0YW5jZW9mIEJ1ZmZlcikge1xuXHRcdFx0XHRcdGJ1ZmZlciA9IGJ1ZmZlclRvQXJyYXlCdWZmZXIoZGF0YSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG5cdFx0XHRcdFx0YnVmZmVyID0gZGF0YTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmV4cGVjdGVkIHJlc3BvbnNlJyk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHR5cGU6ICdhdWRpby9tcGVnJyxcblx0XHRcdFx0XHRidWZmZXIsXG5cdFx0XHRcdH07XG5cdFx0XHR9LFxuXHRcdCk7XG5cdH1cblxuXHRwdWJsaWMgc3RhdGljIGdldFN1cHBvcnRlZExhbmd1YWdlcygpIHtcblx0XHQvLyBwcmV0dGllci1pZ25vcmVcblx0XHRyZXR1cm4gW1xuXHRcdFx0XCJhZlwiLCBcInNxXCIsIFwiYW1cIiwgXCJhclwiLCBcImh5XCIsIFwiYXNcIiwgXCJheVwiLCBcImF6XCIsIFwiYm1cIiwgXCJldVwiLFxuXHRcdFx0XCJiZVwiLCBcImJuXCIsIFwiYmhvXCIsIFwiYnNcIiwgXCJiZ1wiLCBcImNhXCIsIFwiY2ViXCIsIFwibnlcIiwgXCJ6aFwiLCBcInpoX0hBTlRcIixcblx0XHRcdFwiY29cIiwgXCJoclwiLCBcImNzXCIsIFwiZGFcIiwgXCJkdlwiLCBcImRvaVwiLCBcIm5sXCIsIFwiZW5cIiwgXCJlb1wiLCBcImV0XCIsIFwiZWVcIixcblx0XHRcdFwidGxcIiwgXCJmaVwiLCBcImZyXCIsIFwiZnlcIiwgXCJnbFwiLCBcImthXCIsIFwiZGVcIiwgXCJlbFwiLCBcImduXCIsIFwiZ3VcIiwgXCJodFwiLFxuXHRcdFx0XCJoYVwiLCBcImhhd1wiLCBcIml3XCIsIFwiaGlcIiwgXCJobW5cIiwgXCJodVwiLCBcImlzXCIsIFwiaWdcIiwgXCJpbG9cIiwgXCJpZFwiLFxuXHRcdFx0XCJnYVwiLCBcIml0XCIsIFwiamFcIiwgXCJqd1wiLCBcImtuXCIsIFwia2tcIiwgXCJrbVwiLCBcInJ3XCIsIFwiZ29tXCIsIFwia29cIixcblx0XHRcdFwia3JpXCIsIFwia3VcIiwgXCJja2JcIiwgXCJreVwiLCBcImxvXCIsIFwibGFcIiwgXCJsdlwiLCBcImxuXCIsIFwibHRcIiwgXCJsZ1wiLFxuXHRcdFx0XCJsYlwiLCBcIm1rXCIsIFwibWFpXCIsIFwibWdcIiwgXCJtc1wiLCBcIm1sXCIsIFwibXRcIiwgXCJtaVwiLCBcIm1yXCIsIFwibW5pLU10ZWlcIixcblx0XHRcdFwibHVzXCIsIFwibW5cIiwgXCJteVwiLCBcIm5lXCIsIFwibm9cIiwgXCJvclwiLCBcIm9tXCIsIFwicHNcIiwgXCJmYVwiLCBcInBsXCIsXG5cdFx0XHRcInB0XCIsIFwicGFcIiwgXCJxdVwiLCBcInJvXCIsIFwicnVcIiwgXCJzbVwiLCBcInNhXCIsIFwiZ2RcIiwgXCJuc29cIiwgXCJzclwiLFxuXHRcdFx0XCJzdFwiLCBcInNuXCIsIFwic2RcIiwgXCJzaVwiLCBcInNrXCIsIFwic2xcIiwgXCJzb1wiLCBcImVzXCIsIFwic3VcIiwgXCJzd1wiLCBcInN2XCIsXG5cdFx0XHRcInRnXCIsIFwidGFcIiwgXCJ0dFwiLCBcInRlXCIsIFwidGhcIiwgXCJ0aVwiLCBcInRzXCIsIFwidHJcIiwgXCJ0a1wiLCBcImFrXCIsIFwidWtcIiwgXCJ1clwiLFxuXHRcdFx0XCJ1Z1wiLCBcInV6XCIsIFwidmlcIiwgXCJjeVwiLCBcInhoXCIsIFwieWlcIiwgXCJ5b1wiLCBcInp1XCJcblx0XHRdO1xuXHR9XG59XG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsT0FBQTtBQUVBLElBQUFDLGFBQUEsR0FBQUQsT0FBQTtBQUdBLElBQUFFLFNBQUEsR0FBQUMsT0FBQSxDQUFBRCxTQUFBO0VBRUMsU0FBQUEsVUFBWUUsRUFBc0Q7UUFBdERDLEVBQUEsR0FBQUQsRUFBQSxjQUFvRCxFQUFFLEdBQUFBLEVBQUE7TUFBcERFLEVBQUEsR0FBQUQsRUFBQSxDQUFBRSxPQUFzQjtNQUF0QkEsT0FBTyxHQUFBRCxFQUFBLGNBQUdFLDBCQUFZLEdBQUFGLEVBQUE7SUFDbkMsSUFBSSxDQUFDQyxPQUFPLEdBQUdBLE9BQU87RUFDdkI7RUFFT0wsU0FBQSxDQUFBTyxTQUFBLENBQUFDLGNBQWMsR0FBckIsVUFBc0JDLElBQVksRUFBRUMsUUFBZ0I7SUFDbkQsSUFBTUMsR0FBRyxHQUNSLDBEQUFBQyxNQUFBLENBQTBERixRQUFRLDJDQUF3QyxHQUMxR0csa0JBQWtCLENBQUNKLElBQUksQ0FBQztJQUV6QixPQUFPLElBQUksQ0FBQ0osT0FBTyxDQUFDTSxHQUFHLEVBQUU7TUFBRUcsWUFBWSxFQUFFLGFBQWE7TUFBRUMsTUFBTSxFQUFFO0lBQUssQ0FBRSxDQUFDLENBQUNDLElBQUksQ0FDNUUsVUFBQ2QsRUFBUTtVQUFOZSxJQUFJLEdBQUFmLEVBQUEsQ0FBQWUsSUFBQTtNQUNOLElBQUlDLE1BQW1CO01BQ3ZCLElBQUksT0FBT0MsTUFBTSxLQUFLLFdBQVcsSUFBSUYsSUFBSSxZQUFZRSxNQUFNLEVBQUU7UUFDNURELE1BQU0sR0FB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
